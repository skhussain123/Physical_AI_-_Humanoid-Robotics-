---
title: "Path Planning and Motion Control in Complex Environments"
summary: "Go beyond simple paths and learn how robots can navigate in cluttered and changing environments."
tags: [path-planning, motion-control, navigation, ros2, nav2]
keywords: [path-planning, motion-control, navigation, dynamic-environments, obstacle-avoidance, nav2, ros]
learningObjectives:
  - "Understand the challenges of planning in dynamic environments."
  - "Learn about different path planning algorithms (e.g., A*, D*)."
  - "Be introduced to local planners for dynamic obstacle avoidance."
prerequisites: ["Introduction to Navigation Concepts"]
outcome: "Readers will understand the key principles behind robust robot navigation in realistic scenarios."
successCriteria:
  - "Explain the difference between a global and a local planner."
  - "Describe how a costmap is used for path planning."
  - "Tune the parameters of a local planner to change a robot's obstacle avoidance behavior."
toolsUsed: [ROS 2, Nav2]
relatedConcepts: [search-algorithms, control-theory, optimization, dynamic-systems]
---
import Prerequisites from '@site/src/components/Prerequisites';
import LearningObjective from '@site/src/components/LearningObjective';
import Outcome from '@site/src/components/Outcome';
import SuccessCriteria from '@site/src/components/SuccessCriteria';
import Exercise from '@site/src/components/Exercise';
import Checkpoint from '@site/src/components/Checkpoint';

# Chapter 3: Path Planning and Motion Control in Complex Environments

This chapter discusses advanced path planning and motion control in complex and dynamic environments.

<Prerequisites>
  <p>You should have a high-level understanding of the Nav2 stack and its components.</p>
</Prerequisites>

<LearningObjective>
  <ul>
    <li>Understand the challenges of planning in dynamic environments.</li>
    <li>Learn about different path planning algorithms (e.g., A*, D*).</li>
    <li>Be introduced to local planners for dynamic obstacle avoidance.</li>
  </ul>
</LearningObjective>

## Global vs. Local Planning

Navigation in a complex environment is typically broken down into two parts:

-   **Global Planning:** The global planner creates a long-term plan from the robot's current location to the goal, usually based on a static map of the environment. Algorithms like A* and Dijkstra's algorithm are common choices for global planners.
-   **Local Planning:** The local planner is responsible for executing the global plan while reacting to immediate obstacles that may not have been in the original map (e.g., people walking by). The local planner generates velocity commands to keep the robot on the global path while avoiding collisions.

## Dynamic Obstacle Avoidance

Local planners use a **costmap**, which is a grid that represents the robot's immediate surroundings. The costmap is updated in real-time using sensor data. Cells in the costmap are assigned a value representing their "cost". Obstacles have a very high cost, and areas near obstacles have a moderate cost. The local planner then chooses velocity commands that will move the robot along the global path while minimizing the cost it travels through.

## The D* Lite Algorithm

For environments that change over time, algorithms like D* Lite are very effective. D* Lite is an incremental search algorithm that can efficiently replan a path when new information about the environment becomes available, without having to replan from scratch.

<Checkpoint>
  <p>Why is it useful to separate navigation into global and local planning?</p>
</Checkpoint>

<Exercise>
  <p>Experiment with the Nav2 stack in Gazebo. Place dynamic obstacles in front of the robot while it is navigating to a goal. Observe how the local planner adjusts the robot's path to avoid the obstacles. Try changing the parameters of the local planner to make the robot more or less cautious.</p>
</Exercise>

<Outcome>
  <p>You now have a deeper understanding of the algorithms and techniques that enable robots to navigate safely and efficiently in the real world.</p>
</Outcome>

<SuccessCriteria>
  <ul>
    <li>Explain the difference between a global and a local planner.</li>
    <li>Describe how a costmap is used for path planning.</li>
    <li>Tune the parameters of a local planner to change a robot's obstacle avoidance behavior.</li>
  </ul>
</SuccessCriteria>
